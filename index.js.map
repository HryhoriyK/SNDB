{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import './css/basic.css'\n\ndocument.addEventListener(\"DOMContentLoaded\",() => {\n  const typSelect = document.getElementById(\"typ\");\n  const dumFields = document.getElementById(\"dum-fields\");\n  const bytFields = document.getElementById(\"byt-fields\");\n\n  typSelect.addEventListener(\"change\", () => {\n    if (typSelect.value === \"dum\") {\n      dumFields.style.display = \"block\";\n      bytFields.style.display = \"none\";\n    } else {\n      dumFields.style.display = \"none\";\n      bytFields.style.display = \"block\";\n    }\n  });\n\n  document.getElementById(\"spocitatBtn\").addEventListener(\"click\", spocitejCenu);\n  document.getElementById(\"aktualniRok\").textContent = new Date().getFullYear();\n\n  const form = document.getElementById(\"kontaktniFormular\");\n  form.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    const token = grecaptcha.getResponse();\n    if (!token) {\n      alert(\"Potvrďte prosím CAPTCHA.\");\n      return;\n    }\n\n    const data = new FormData(form);\n    const response = await fetch(\"https://formspree.io/f/xanboklo\", {\n      method: \"POST\",\n      body: data,\n      headers: {\n        Accept: \"application/json\",\n      },\n    });\n\n    if (response.ok) {\n      alert(\"Děkujeme za zprávu. Ozveme se vám co nejdříve.\");\n      form.reset();\n      grecaptcha.reset();\n    } else {\n      alert(\"Chyba při odesílání. Zkuste to prosím znovu.\");\n    }\n  });\n});\n\nwindow.spocitejCenu = function() {\n  const vysledek = document.getElementById(\"vysledek\");\n  vysledek.innerHTML = `<p><span class=\"loader\"></span></p>`;  \n\n  const delay = Math.random() * 1000 + 500;\n\n  setTimeout(() => {\n  const lokalita = document.getElementById(\"lokalita\").value;\n  const typ = document.getElementById(\"typ\").value;\n\n  const cenyLokalit = {\n    praha1: 492,\n    praha2: 470,\n    praha3: 460,\n    praha4: 418,\n    praha5: 433,\n    praha6: 417,\n    praha7: 441,\n    praha8: 417,\n    praha9: 421,\n    praha10: 405\n  };\n\n  const cenaZaM2 = cenyLokalit[lokalita] || 350;\n\n    if (typ === \"dum\") {\n      const jednotky = parseInt(document.getElementById(\"jednotky\").value);\n      const plocha = parseFloat(document.getElementById(\"plocha-dum\").value);\n      if (!jednotky || !plocha) {\n        vysledek.innerText = \"Zadejte platné údaje pro dům.\";\n        return;\n      }\n\n      const celkovyNajem = plocha * cenaZaM2;\n      const sprava = (celkovyNajem + jednotky * 450) * 0.07;\n\n      vysledek.innerHTML = `\n      <p><strong>Přibližna cena správy:</strong> ${sprava.toLocaleString()} Kč / měsíc</p>\n      <p><strong>Přibližna cena nájmu:</strong> ${celkovyNajem.toLocaleString()} Kč / měsíc</p>\n    `;\n      document.getElementById(\"plocha-form\").value = plocha;\n      document.getElementById(\"dispozice-form\").value = \"\";\n    } else {\n      const plocha = parseFloat(document.getElementById(\"plocha-byt\").value);\n      const dispozice = document.getElementById(\"dispozice\").value;\n\n      const koeficienty = {\n        \"1kk\": 1,\n        \"1+1\": 1.05,\n        \"2kk\": 1.1,\n        \"2+1\": 1.15,\n        \"3kk\": 1.2,\n        \"3+1\": 1.25,\n        \"4+\": 1.3,\n      };\n\n      const koef = koeficienty[dispozice] || 1;\n      const najem = plocha * cenaZaM2 * koef;\n      const sprava = najem * 0.1;\n      vysledek.innerHTML = `\n      <p><strong>Správa:</strong> ${sprava.toLocaleString()} Kč / měsíc</p>\n      <p><strong>Příjem:</strong> ${najem.toLocaleString()} Kč / měsíc</p>\n    `;\n    }\n\n    document.getElementById(\"typ-form\").value = typ;\n    document.getElementById(\"lokalita-form\").value = lokalita;\n\n    if (typ === \"dum\") {\n      document.getElementById(\"plocha-form\").value = document.getElementById(\"plocha-dum\").value;\n      document.getElementById(\"dispozice-form\").value = \"\";\n    } else {\n      document.getElementById(\"plocha-form\").value = document.getElementById(\"plocha-byt\").value;\n      document.getElementById(\"dispozice-form\").value = document.getElementById(\"dispozice\").value;\n    }\n\n  }, delay);\n}"],"names":["typSelect","dumFields","bytFields","form","data","vysledek","delay","lokalita","typ","cenaZaM2","jednotky","plocha","celkovyNajem","sprava","dispozice","koef","najem"],"mappings":"ssBAEA,SAAS,iBAAiB,mBAAmB,IAAM,CACjD,MAAMA,EAAY,SAAS,eAAe,KAAK,EACzCC,EAAY,SAAS,eAAe,YAAY,EAChDC,EAAY,SAAS,eAAe,YAAY,EAEtDF,EAAU,iBAAiB,SAAU,IAAM,CACrCA,EAAU,QAAU,OACtBC,EAAU,MAAM,QAAU,QAC1BC,EAAU,MAAM,QAAU,SAE1BD,EAAU,MAAM,QAAU,OAC1BC,EAAU,MAAM,QAAU,QAEhC,CAAG,EAED,SAAS,eAAe,aAAa,EAAE,iBAAiB,QAAS,YAAY,EAC7E,SAAS,eAAe,aAAa,EAAE,YAAc,IAAI,KAAI,EAAG,cAEhE,MAAMC,EAAO,SAAS,eAAe,mBAAmB,EACxDA,EAAK,iBAAiB,SAAU,MAAO,GAAM,CAI3C,GAHA,EAAE,eAAc,EAGZ,CADU,WAAW,cACb,CACV,MAAM,0BAA0B,EAChC,MACD,CAED,MAAMC,EAAO,IAAI,SAASD,CAAI,GACb,MAAM,MAAM,kCAAmC,CAC9D,OAAQ,OACR,KAAMC,EACN,QAAS,CACP,OAAQ,kBACT,CACP,CAAK,GAEY,IACX,MAAM,gDAAgD,EACtDD,EAAK,MAAK,EACV,WAAW,MAAK,GAEhB,MAAM,8CAA8C,CAE1D,CAAG,CACH,CAAC,EAED,OAAO,aAAe,UAAW,CAC/B,MAAME,EAAW,SAAS,eAAe,UAAU,EACnDA,EAAS,UAAY,sCAErB,MAAMC,EAAQ,KAAK,OAAM,EAAK,IAAO,IAErC,WAAW,IAAM,CACjB,MAAMC,EAAW,SAAS,eAAe,UAAU,EAAE,MAC/CC,EAAM,SAAS,eAAe,KAAK,EAAE,MAerCC,EAbc,CAClB,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,QAAS,GACb,EAE+BF,CAAQ,GAAK,IAExC,GAAIC,IAAQ,MAAO,CACjB,MAAME,EAAW,SAAS,SAAS,eAAe,UAAU,EAAE,KAAK,EAC7DC,EAAS,WAAW,SAAS,eAAe,YAAY,EAAE,KAAK,EACrE,GAAI,CAACD,GAAY,CAACC,EAAQ,CACxBN,EAAS,UAAY,gCACrB,MACD,CAED,MAAMO,EAAeD,EAASF,EACxBI,GAAUD,EAAeF,EAAW,KAAO,IAEjDL,EAAS,UAAY;AAAA,mDACwBQ,EAAO,gBAAgB;AAAA,kDACxBD,EAAa,gBAAgB;AAAA,MAEzE,SAAS,eAAe,aAAa,EAAE,MAAQD,EAC/C,SAAS,eAAe,gBAAgB,EAAE,MAAQ,EACxD,KAAW,CACL,MAAMA,EAAS,WAAW,SAAS,eAAe,YAAY,EAAE,KAAK,EAC/DG,EAAY,SAAS,eAAe,WAAW,EAAE,MAYjDC,EAVc,CAClB,MAAO,EACP,MAAO,KACP,MAAO,IACP,MAAO,KACP,MAAO,IACP,MAAO,KACP,KAAM,GACd,EAE+BD,CAAS,GAAK,EACjCE,EAAQL,EAASF,EAAWM,EAC5BF,EAASG,EAAQ,GACvBX,EAAS,UAAY;AAAA,oCACSQ,EAAO,gBAAgB;AAAA,oCACvBG,EAAM,gBAAgB;AAAA,KAErD,CAED,SAAS,eAAe,UAAU,EAAE,MAAQR,EAC5C,SAAS,eAAe,eAAe,EAAE,MAAQD,EAE7CC,IAAQ,OACV,SAAS,eAAe,aAAa,EAAE,MAAQ,SAAS,eAAe,YAAY,EAAE,MACrF,SAAS,eAAe,gBAAgB,EAAE,MAAQ,KAElD,SAAS,eAAe,aAAa,EAAE,MAAQ,SAAS,eAAe,YAAY,EAAE,MACrF,SAAS,eAAe,gBAAgB,EAAE,MAAQ,SAAS,eAAe,WAAW,EAAE,MAG1F,EAAEF,CAAK,CACV"}