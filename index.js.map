{"version":3,"file":"index.js","sources":["../src/js/kalkulacka.js","../src/js/formular.js","../src/js/rok.js"],"sourcesContent":["import '../css/basic.css';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const typSelect = document.getElementById(\"typ\");\n  const dumFields = document.getElementById(\"dum-fields\");\n  const bytFields = document.getElementById(\"byt-fields\");\n\n  if (!typSelect || !dumFields || !bytFields) return;\n\n  typSelect.addEventListener(\"change\", () => {\n    if (typSelect.value === \"dum\") {\n      dumFields.style.display = \"block\";\n      bytFields.style.display = \"none\";\n    } else {\n      dumFields.style.display = \"none\";\n      bytFields.style.display = \"block\";\n    }\n  });\n\n  document.getElementById(\"spocitatBtn\")?.addEventListener(\"click\", spocitejCenu);\n\n  const aktualniRokEl = document.getElementById(\"aktualniRok\");\n  if (aktualniRokEl) {\n    aktualniRokEl.textContent = new Date().getFullYear();\n  }\n});\n\nwindow.spocitejCenu = function() {\n  const vysledek = document.getElementById(\"vysledek\");\n  vysledek.innerHTML = `<p><span class=\"loader\"></span></p>`;  \n\n  const delay = Math.random() * 1000 + 500;\n\n  setTimeout(() => {\n    const lokalita = document.getElementById(\"lokalita\").value;\n    const typ = document.getElementById(\"typ\").value;\n\n    document.getElementById(\"typ-form\").value = typ;\n    document.getElementById(\"lokalita-form\").value = lokalita;\n\n    const cenyLokalit = {\n      praha1: 492, praha2: 470, praha3: 460, praha4: 418,\n      praha5: 433, praha6: 417, praha7: 441, praha8: 417,\n      praha9: 421, praha10: 405\n    };\n\n    const cenaZaM2 = cenyLokalit[lokalita] || 350;\n\n    if (typ === \"dum\") {\n      const jednotky = parseInt(document.getElementById(\"jednotky\").value);\n      const plocha = parseFloat(document.getElementById(\"plocha-dum\").value);\n\n      document.getElementById(\"plocha-form\").value = plocha || \"\";\n\n      if (!jednotky || !plocha) {\n        vysledek.innerText = \"Zadejte platné údaje pro dům.\";\n        return;\n      }\n      const celkovyNajem = plocha * cenaZaM2;\n\n      let koef = 1;\n      if (jednotky >= 1 && jednotky <= 10) koef = 0.08;\n      else if (jednotky >= 11 && jednotky <= 25) koef = 0.07;\n      else if (jednotky >= 26 && jednotky <= 35) koef = 0.06;\n      else if (jednotky >= 36) koef = 0.05;\n\n      const sprava = celkovyNajem * koef;\n\n      vysledek.innerHTML = `\n        <p><strong>Odhad nákladů na správu:</strong> ${sprava.toLocaleString()} Kč / měsíc</p>\n        <p><strong>Odhad příjmu z nájmu:</strong> ${celkovyNajem.toLocaleString()} Kč / měsíc</p>\n      `;\n    } else {\n      const plocha = parseFloat(document.getElementById(\"plocha-byt\").value);\n      const dispozice = document.getElementById(\"dispozice\").value;\n      const koeficienty = { \"1kk\": 1, \"1+1\": 1.05, \"2kk\": 1.1, \"2+1\": 1.15, \"3kk\": 1.2, \"3+1\": 1.25, \"4+\": 1.3 };\n      const koef = koeficienty[dispozice] || 1;\n      const najem = plocha * cenaZaM2 * koef;\n      const sprava = najem * 0.1;\n      vysledek.innerHTML = `\n        <p><strong>Odhad nákladů na správu:</strong> ${sprava.toLocaleString()} Kč / měsíc</p>\n        <p><strong>Odhad příjmu z nájmu:</strong> ${najem.toLocaleString()} Kč / měsíc</p>\n      `;\n    }\n            document.getElementById(\"typ-form\").value =\n          document.getElementById(\"typ\").value;\n        document.getElementById(\"lokalita-form\").value =\n          document.getElementById(\"lokalita\").value;\n\n        if (document.getElementById(\"typ\").value === \"dum\") {\n          document.getElementById(\"plocha-form\").value =\n            document.getElementById(\"plocha-dum\").value;\n          document.getElementById(\"dispozice-form\").value = \"\";\n        } else {\n          document.getElementById(\"plocha-form\").value =\n            document.getElementById(\"plocha-byt\").value;\n          document.getElementById(\"dispozice-form\").value =\n            document.getElementById(\"dispozice\").value;\n        }\n  }, delay);\n}\n","// src/js/formular.js\n\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const form = document.getElementById(\"kontaktniFormular\");\n\n  if (!form) return;\n\n  form.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    let token = \"\";\n    try {\n      token = grecaptcha.getResponse();\n    } catch {\n      iziToast.error({\n        title: \"Chyba\",\n        message: \"Nepodařilo se načíst reCAPTCHA.\",\n        position: \"topRight\"\n      });\n      return;\n    }\n\n    if (!token) {\n      iziToast.warning({\n        title: \"Pozor\",\n        message: \"Potvrďte prosím CAPTCHA.\",\n        position: \"topRight\"\n      });\n      return;\n    }\n\n    const data = new FormData(form);\n    const response = await fetch(\"https://formspree.io/f/xanboklo\", {\n      method: \"POST\",\n      body: data,\n      headers: { Accept: \"application/json\" },\n    });\n\n    if (response.ok) {\n      iziToast.success({\n        title: \"Odesláno\",\n        message: \"Děkujeme za zprávu. Ozveme se vám co nejdříve.\",\n        position: \"topRight\"\n      });\n      form.reset();\n      grecaptcha.reset();\n    } else {\n      iziToast.error({\n        title: \"Chyba\",\n        message: \"Chyba při odesílání. Zkuste to prosím znovu.\",\n        position: \"topRight\"\n      });\n    }\n  });\n});\n","    document.getElementById(\"aktualniRok\").textContent = new Date().getFullYear();"],"names":["typSelect","dumFields","bytFields","_a","aktualniRokEl","vysledek","delay","lokalita","typ","cenaZaM2","jednotky","plocha","celkovyNajem","koef","sprava","dispozice","najem","form","e","token","iziToast","data"],"mappings":"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"}