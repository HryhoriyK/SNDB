(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{var e;const o=document.getElementById("typ"),r=document.getElementById("dum-fields"),a=document.getElementById("byt-fields");if(!o||!r||!a)return;o.addEventListener("change",()=>{o.value==="dum"?(r.style.display="block",a.style.display="none"):(r.style.display="none",a.style.display="block")}),(e=document.getElementById("spocitatBtn"))==null||e.addEventListener("click",spocitejCenu);const s=document.getElementById("aktualniRok");s&&(s.textContent=new Date().getFullYear())});window.spocitejCenu=function(){const o=document.getElementById("vysledek");o.innerHTML='<p><span class="loader"></span></p>';const r=Math.random()*1e3+500;setTimeout(()=>{const a=document.getElementById("lokalita").value,s=document.getElementById("typ").value,t={praha1:492,praha2:470,praha3:460,praha4:418,praha5:433,praha6:417,praha7:441,praha8:417,praha9:421,praha10:405}[a]||350;if(s==="dum"){const n=parseInt(document.getElementById("jednotky").value),c=parseFloat(document.getElementById("plocha-dum").value);if(!n||!c){o.innerText="Zadejte platné údaje pro dům.";return}const l=c*t,i=(l+n*450)*.07;o.innerHTML=`
        <p><strong>Přibližná cena správy:</strong> ${i.toLocaleString()} Kč / měsíc</p>
        <p><strong>Přibližná cena nájmu:</strong> ${l.toLocaleString()} Kč / měsíc</p>
      `}else{const n=parseFloat(document.getElementById("plocha-byt").value),c=document.getElementById("dispozice").value,i={"1kk":1,"1+1":1.05,"2kk":1.1,"2+1":1.15,"3kk":1.2,"3+1":1.25,"4+":1.3}[c]||1,d=n*t*i,u=d*.1;o.innerHTML=`
        <p><strong>Správa:</strong> ${u.toLocaleString()} Kč / měsíc</p>
        <p><strong>Příjem:</strong> ${d.toLocaleString()} Kč / měsíc</p>
      `}},r)};document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("kontaktniFormular");if(!o){console.warn("Formulář #kontaktniFormular nebyl nalezen na této stránce.");return}function r(a=5e3){return new Promise(s=>{const e=Date.now();(function t(){window.grecaptcha&&typeof window.grecaptcha.getResponse=="function"?s(!0):Date.now()-e>a?s(!1):setTimeout(t,200)})()})}o.addEventListener("submit",async a=>{if(a.preventDefault(),!await r(5e3)){alert("reCAPTCHA se nenačetla. Prosím obnovte stránku a zkuste to znovu."),console.error("reCAPTCHA nebyla dostupná (timeout).");return}const e=grecaptcha.getResponse();if(!e){alert("Potvrďte prosím CAPTCHA (zaškrtněte, že nejste robot).");return}const t=new FormData(o);t.append("g-recaptcha-response",e);try{const n=await fetch("https://formspree.io/f/xanboklo",{method:"POST",body:t,headers:{Accept:"application/json"}});let c=null;try{c=await n.json()}catch{}if(n.ok){alert("Děkujeme za zprávu. Ozveme se vám co nejdříve."),o.reset();try{grecaptcha.reset()}catch{}}else console.error("Formspree returned non-OK",n.status,c),alert(c&&c.error?`Chyba: ${c.error}`:`Došlo k chybě (${n.status}). Zkuste to prosím později.`)}catch(n){console.error("Fetch error:",n),alert("Chyba sítě při odesílání formuláře. Zkontrolujte připojení a zkuste to znovu.")}})});
//# sourceMappingURL=index.js.map
